<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard PPDB</title>
    <style>
        body { font-family: sans-serif; background-color: #f4f4f9; color: #333; margin: 0; padding: 0; }
        .container { max-width: 800px; margin: 20px auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1, h2 { color: #4a5568; text-align: center; }
        form { margin-top: 20px; display: grid; gap: 15px; }
        
        label {
            display: block;
            padding: 0;
            font-weight: bold;
            margin-bottom: -5px;
        }
        input, input[type="file"] { 
            width: 100%; 
            padding: 10px; 
            border-radius: 4px; 
            border: 1px solid #ccc; 
            box-sizing: border-box; 
        }
        input[type="file"] {
            background-color: #f8f9fa;
        }
        input:disabled, button:disabled {
            background-color: #e9ecef;
            cursor: not-allowed;
            opacity: 0.7;
        }

        button { background-color: #6366f1; color: white; padding: 12px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
        button:hover:not(:disabled) { background-color: #4f46e5; }
        .btn-edit { background-color: #f59e0b; margin-top: 10px; }
        .btn-edit:hover { background-color: #d97706; }
        #student-list { margin-top: 20px; word-break: break-word; }
        #student-list div { padding: 10px; border-bottom: 1px solid #eee; }
        .auth-status { padding: 15px; background-color: #eef2ff; border-radius: 8px; margin-bottom: 20px; text-align: center; }
        #main-content { display: none; }

        /* Gaya untuk bagian upload */
        #upload-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        .upload-note {
            background-color: #fffbe6;
            border: 1px solid #fef08a;
            color: #a16207;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
        }

        /* --- KODE LOADER YANG SUDAH DIPERBAIKI --- */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #6366f1;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* ------------------------------------------- */

        @media screen and (max-width: 768px) {
            body { padding: 10px; }
            .container {
                margin: 0;
                padding: 15px;
                width: 100%;
                box-sizing: border-box;
            }
            h1 { font-size: 1.5em; }
            h2 { font-size: 1.2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="auth-status" class="auth-status"><p>Memeriksa status login...</p></div>
        <div id="main-content">
            <h1 id="main-title">Formulir Pendaftaran Siswa Baru</h1>
            
            <form id="student-form" style="display: none;">
                <label for="namaLengkap">Nama Lengkap</label>
                <input type="text" id="namaLengkap" name="namaLengkap" required>
                <label for="nisn">NISN</label>
                <input type="text" id="nisn" name="nisn" placeholder="Nomor Induk Siswa Nasional">
                <label for="tempatLahir">Tempat Lahir</label>
                <input type="text" id="tempatLahir" name="tempatLahir" required>
                <label for="tanggalLahir">Tanggal Lahir</label>
                <input type="date" id="tanggalLahir" name="tanggalLahir" required>
                <label for="alamat">Alamat</label>
                <input type="text" id="alamat" name="alamat" required>
                <label for="sekolahAsal">Sekolah Asal</label>
                <input type="text" id="sekolahAsal" name="sekolahAsal" required>
                <label for="namaOrangTua">Nama Orang Tua</label>
                <input type="text" id="namaOrangTua" name="namaOrangTua" required>
                <label for="nomorTelepon">Nomor Telepon</label>
                <input type="text" id="nomorTelepon" name="nomorTelepon" required>
                <button type="submit" id="submit-button">Daftarkan Siswa</button>
            </form>

            <div id="student-list-container">
                <div id="student-list">
                    <div class="loader"></div>
                    <p style="text-align: center;">Sedang memuat data...</p>
                </div>
            </div>

            <!-- BAGIAN BARU UNTUK UPLOAD BERKAS -->
            <div id="upload-section" style="display: none;">
                <h2>Unggah Berkas Pendaftaran Ulang</h2>
                <form id="upload-form">
                    <label for="fileIjazah">Scan Ijazah/Surat Keterangan Lulus</label>
                    <input type="file" id="fileIjazah" name="fileIjazah">
                    
                    <label for="fileAkta">Scan Akta Kelahiran</label>
                    <input type="file" id="fileAkta" name="fileAkta">
                    
                    <label for="fileKk">Scan Kartu Keluarga (KK)</label>
                    <input type="file" id="fileKk" name="fileKk">
                    
                    <button type="submit" id="upload-button">Unggah Berkas</button>
                </form>
                <div class="upload-note" style="display: none;">
                    <p>Kolom ini dinonaktifkan karena status pendaftaran Anda adalah <strong>DITOLAK</strong>.</p>
                </div>
            </div>

        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>

